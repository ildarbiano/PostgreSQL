============================ Объекты:
table			\dt
data base		\l, \list
schema			\dn
index			\di, \d {name of table}
sequence		\ds				-- list of relations
view			\dv
function		\df				-- list of functions

============================ Postgres. LOGICAL layer:
База данных, являющаяся Hight LOGICAL layer, есть Docker. Default 3-DB are on the (locical & phisical layer):
postgres:					-- есть только system view. SUPER USER, is Docker.
	Schema:
		Relation:
			table
			index
template0:					-- для backup, is Docker.
	Schema:
		Relation:
			table
			index
template1:					-- шаблон для создания новых БД, is Docker. Можно модернизировать, создать EXTENTION. 
	Schema:
		Relation:
			table
			index
.......
...
============================ CREATE DATABASE:
CREATE DATABASE имя
    [ [ WITH ] [ OWNER [=] имя_пользователя ]
           [ TEMPLATE [=] шаблон ]
           [ ENCODING [=] кодировка ]
           [ LOCALE [=] локаль[@провайдер] ]
           [ LC_COLLATE [=] категория_сортировки[@провайдер] ]
           [ LC_CTYPE [=] категория_типов_символов ]
           [ TABLESPACE [=] табл_пространство ]
           [ ALLOW_CONNECTIONS [=] разр_подключения ]
           [ CONNECTION LIMIT [=] предел_подключений ]
           [ IS_TEMPLATE [=] это_шаблон ] ]


============================ CREATE SCHEMA:
CREATE SCHEMA имя_схемы [ AUTHORIZATION указание_роли ] [ элемент_схемы [ ... ] ]
CREATE SCHEMA AUTHORIZATION указание_роли [ элемент_схемы [ ... ] ]
CREATE SCHEMA IF NOT EXISTS имя_схемы [ AUTHORIZATION указание_роли ]
CREATE SCHEMA IF NOT EXISTS AUTHORIZATION указание_роли

Здесь указание_роли:
    имя_пользователя
  | CURRENT_USER
  | SESSION_USER
----------- Хорошая практика:			IF NOT EXISTS 

============================ CREATE TABLE:
без schema существовать не может.
r = ordinary table
CREATE [ { TEMPORARY | TEMP } | UNLOGGED ] TABLE [ IF NOT EXISTS ] имя_таблицы ( [
  { имя_столбца тип_данных [ ограничение_столбца [ ... ] ]
----------- Хорошая практика:			IF NOT EXISTS 
----------- Хорошая практика:			CREATE TABLE [SCHEMA].[TABLE](params);			
*-рекомендация, для логического понимания запроса.
---------------------------- Секционированная таблица. Table Partitioning:
это таблица, разделённая на секции. Секционирование — это разделение одной большой таблицы на несколько меньших частей (секций) по какому-то правилу. Сама секционированная таблица «виртуальная» и как таковая не хранится. Хранилище используется её секциями, которые являются обычными таблицами, связанными с секционированной. В каждой секции хранится подмножество данных таблицы, определяемое её границами секции. Аналогия из жизни:
		Библиотека с книгами:
			Без секционирования: Все книги на одной огромной полке
			С секционированием: Книги разделены по алфавиту:
								Полка A-Г
								Полка Д-Л
								Полка М-Р
								Полка С-Я
Все строки, вставляемые в секционированную таблицу, перенаправляются в соответствующие секции в зависимости от значений столбцов ключа секционирования. Секционированная таблица, PARTITION BY — это:
	-Одна логическая таблица для приложения;
	-Множество физических таблиц на диске;
	-Разделение по правилу (дата, регион, хеш);
	-Ускорение запросов за счет исключения секций;
	-Упрощение управления большими объемами данных.
Используйте когда: у вас большая таблица (>50 ГБ) и есть четкий критерий для разделения данных!
---------------------------- Сторонние таблицы, Foreign Table, в контексте секционирования:
это таблицы, которые могут быть секциями, но пользователь ответственен за соответствие содержимого сторонней таблицы правилу секционирования, это не контролируется автоматически. это "окно" в PostgreSQL, через которое можно работать с данными, которые физически хранятся за пределами PostgreSQL. Аналогия:
	*-Обычная таблица = Книга в вашей домашней библиотеке;
	*-Foreign Table = Ссылка на книгу в библиотеке другого города.
Преобразовать обычную таблицу в секционированную и наоборот нельзя. Однако в секционированную таблицу можно добавить в качестве секции существующую обычную или секционированную таблицу, а также можно удалить секцию из секционированной таблицы и превратить её в отдельную таблицу.

============================ tablespace:
		Директория на файловой системе;
		Может использоваться насколькими БД.
pg_default 	- $PGDATA/base/OID(db)							.default
pg_global 	- $PGDATA/global							.default. Глобальные объекты всех БД. БДы обращаются через ссылки. Влиять на них мв не можем.
'name'		- $PGDATA/pg_tblspc/OID(tablespace)/путь_к_каталогу/ver/OID(db)		.новые создаются.


============================ Цели tablespace:
Распределение нагрузки/оптимизация хранения, разместив table на том или ином насителе:
			RAM-index, materialized view;
			SSD-
			HDD-"холодные" данные.

Любую 'таблицу''базы данных', можно перенести в другое, сформированное 'tablespace' для распределения нагрузки.
ALTER TABLE [name] set TABLESPACE ts;							.Изменить
ALTER TABLE [name] TABLESPACE ts;							.Изменить