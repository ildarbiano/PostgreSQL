============================== Параметры конфигурации PostgreSQL:
sudo cat /etc/postgresql/14/main/postgresql.conf		###----PostgreSQL configuration file. Параметры конфигурации.
ilya@postgres:~$ sudo -u postgres psql
postgres=# show all;						###-- получить все параметры
              name              |                 setting               |
           настройка		|		  параметр		|	Описание
--------------------------------+---------------------------------------+-----------------------------------------
(347 rows)
Конечно далеко не все из них активно используются. Можно разделить их по контексту (полю context в запросе)
postgres=# select name, context from pg_settings;		###-- получить контекст из системного представления настройки
postgres=# select user, context from pg_settings;		###-- получить контекст на сеанс полькователя; 
backend		- для сессии уже повыше уровень backend -и требуются соответствующие права
superuser	- есть уровень superuser - для суперпользователя
остальные настройки уже более глобальные и обычно требуют перезапуска сервера
   
https://postgrespro.ru/docs/postgresql/14/view-pg-settings


============================== Конфигурирование параметров:
postgres=# set work_mem = '64kB';				###-- задать параметр для сеанса
SET
postgres=# show work_mem;					###-- зпросмотреть параметр
 work_mem
----------
 64kB
(1 row)
postgres=# set local work_mem = '64kB';				###-- задать параметр на трансакцию

============================== Параметры:
postgres=# select name, context from pg_settings;
...
shared_buffers                        | postmaster		###-- Используется для кэширования данных. По-умолчанию низкое значение (для поддержки как можно большего кол-ва ОС). Начать стоит с его изменения. Согласно документации, рекомендуемое значение для данного параметра - 25% от общей оперативной памяти на сервере.
max_connections                       | postmaster		###-- Максимальное количество соединений. По-умолчанию 100. Для изменения данного параметра придется перезапускать сервер.
...
work_mem                              | user			###-- Используется для сортировок, построения hash таблиц. Операции выполняются в памяти, что гораздо быстрее обращения к диску. В рамках одного запроса может быть использован множество раз. Если запрос содержит 5 операций сортировки, то для выполнения потребуется память, которая как минимум в 5 раз превысит этот параметр
...
maintenance_work_mem                  | user			###-- Определяет максимальное количество ОП для операций типа VACUUM, CREATE INDEX, CREATE FOREIGN KEY. Увеличение этого параметра позволит быстрее выполнять эти операции


============================== Онлайн калькулятор. Варианты оптимальной настройки PostgreSQL. :
https://pgtune.leopard.in.ua/#/					###-- Просто указывайте параметры вашего сервера и профиль нагрузки и вам предложат оптимальные настройки:
http://pgconfigurator.cybertec.at/				###-- Сконфигурируем нужные нам настройки, добавляем в конец конфигурационного файла и перезапускаем кластер PostgreSQL
sudo mcedit /etc/postgresql/14/main/postgresql.conf		###----PostgreSQL configuration file. Параметры конфигурации.
