==================================== shared_memory:
Задаёт реализацию разделяемой памяти, которую сервер должен использовать для основной области разделяемой памяти, где хранятся общие буферы (shared_buffers) PostgreSQL и другие общие данные. Возможные значения: 
mmap 			для анонимной разделяемой памяти, выделенной с помощью mmap, 
sysv 			для разделяемой памяти System V, выделенной с помощью shmget
windows 		для разделяемой памяти Windows. 


==================================== shared_buffers:
объём памяти, выделенной сервером для совместного кеша страниц. Эта память разделяется между всеми процессами PostgreSQL. shared_buffers = 128MB by Default.
Особенности:
	-Данные загружаются в общий буфер сервера, серверные процессы читают и пишут блоки в этом буфере, а затем уже изменения сбрасываются на диск. 
	-Если объём буфера недостаточен для хранения частоиспользуемых рабочих данных, то они будут постоянно писаться и читаться из кэша ОС или с диска, что отрицательно скажется на производительности. 
	-Рекомендуется установить в пределах 25% от общего объёма оперативной памяти системы. Например, для сервера с RAM=100ГБ рекомендуемое значение — 25ГБ. 
	-Изменение этого параметра требует перезапуска сервера базы данных;
	-Page and Header:
		--Header-8KB (default) исменение размера возможно, но, только, при создании БД;
		--Page	



==================================== Хэш-таблица shared memory:
таблица, которая строится в общей динамически выделяемой памяти. 
Функция: 		хэш-таблица используется при соединениях и агрегировании по хешу, мемоизации узлов, а также обработке подзапросов IN с применением хеша. 
Особенности:
	-Данные в хэш-таблице хранятся в парах «ключ-значение».
	-Функция хеша распределяет ключи случайно и равномерно по ограниченному количеству buckets.
	-Объём памяти, выделенный для хэш-таблицы, определяется произведением work_mem и hash_mem_multiplier (по умолчанию — 1,0).
	-Хэш-таблица доступна всем параллельным процессам, что позволяет им выделять свой объём памяти для её построения, а не каждый процесс создаёт одну личную таблицу.


==================================== Victim page в PostgreSQL:
страница, которая выбирается буфер, который будет освобождён, для замены при управлении буферами. Это часть алгоритма CLOCK-sweep — лёгкого приближения алгоритма Least Recently Used (LRU) для замены страниц. Помогает и глаживает алгоритм процесс bgwriter и checkpoint.
Цель механизма 			— оптимизировать использование памяти: часто используемые страницы остаются в памяти дольше, а старые, менее используемые — постепенно вытесняются. 
Принцип работы			- Алгоритм CLOCK-sweep поддерживает круговой список (clock) страниц буфера. Каждая страница имеет счётчик использования — он отслеживает, как часто к ней обращались. При обращении к странице счётчик увеличивается, указывая на недавнее использование. 


==================================== bgwriter:
Background Writer в PostgreSQL — фоновый процесс, который записывает «грязные» (новые или изменённые) буферы в общей памяти на диск. Функции:			- 					- Периодически сбрасывает «грязные» данные из буфера памяти на диск, чтобы снизить блокировку во время запроса. 
				- Сбрасывает редко используемые «грязные» буферы на диск, освобождая буферный кэш для новых данных и облегчая нагрузку на диски при работе процесса контрольных точек. 
				- Находит те буферы, которые с большой вероятностью вскоре потребуется вытеснить, и записывает их на диск. За счёт этого обслуживающий процесс скорее всего обнаружит, что выбранный им буфер не является грязным. 


==================================== checkpoint:
момент в последовательности транзакций, когда все «грязные» страницы данных, находящиеся в памяти, сбрасываются на диск, а в файле WAL создаётся специальная запись контрольной точки. Цель checkpoint:
				- гарантировать, что все совершённые транзакции постоянно хранятся, чтобы избежать потери данных при сбое системы;
				- работать с механизмом восстановления базы данных: если произошёл сбой, PostgreSQL начинает обрабатывать журналы WAL, начиная с последней успешной контрольной точки.


==================================== isdirty в PostgreSQL
значение содержится в заголовке буфера, который представляет собой место под одну страницу данных (блок). Заголовок, в числе прочего, содержит:
	-расположение на диске страницы, находящейся в буфере (файл и номер блока в нём);
	-признак того, что данные на странице изменились;
	-число обращений к буферу (usage count);
	-признак закрепления буфера (pin count).
В PostgreSQL есть расширение pg_buffercache, которое позволяет отслеживать состояние буферного кэша, включая значение isdirty. Представление pg_buffercache позволяет отслеживать состояние буферного кэша в реальном времени. Для каждого буфера в общем кеше выдаётся одна строка, для неиспользуемых буферов все поля равны NULL, за исключением bufferid
t	-признак того, что данные на странице (буфере) изменились и рано или поздно должны быть записаны на диск.  страница загрязнена;
f	-логическое поле означает, что страница не загрязнена.
